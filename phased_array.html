<html>
    <head>
        <title>Phased Array Animation Tool</title>

        <link rel="stylesheet" href="style.css">

        <!--<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>-->
        <script src="jquery-3.6.2.min.js"></script>
        <script src="wasm-feature-detect.js"></script>
        <script src="scripts.js"></script>
    </head>
    <body>
        <div id="configDivWrapper">
            <div id="configDiv">
                <h3>Animation Control</h3>

                <div>
                    <button class="ui-button ui-widget ui-corner-all">
                        Stop
                    </button>
                    <button class="ui-button ui-widget ui-corner-all ui-button-icon-only" title="Button with icon only">
                        <span class="ui-icon ui-icon-gear"></span> Pause
                    </button>
                    <button class="ui-button ui-widget ui-corner-all">
                        <span class="ui-icon ui-icon-gear"></span> Play
                    </button>
                    <button class="ui-button ui-widget ui-corner-all">
                        <span class="ui-icon ui-icon-gear"></span> Fast forward to stationary state
                    </button>
                </div>
                <div>
                    <label for="animSpeed">Animation Speed:</label><input id="animSpeed"  class="triggerFormUpdate floatInput" value="3e-13"/>
                </div>
                <h4>Draw:</h4>
                <div class=checkbox-row>
                    <label for="drawElectricField">Draw Electric Field:</label><input type="checkbox" id="drawElectricField">
                </div>
                <div class=checkbox-row>
                    <label for="drawMagnitude">Draw Magnitude:</label><input type="checkbox" id="drawMagnitude">
                </div>
                <div class=checkbox-row>
                    <label for="drawSinusoidPeaks">Draw Sinusoid Peaks:</label><input type="checkbox" id="drawSinusoidPeaks" class="triggerFormUpdate">
                    <div id="sinusoidPeakDetails" class=checkbox-extrainfo style="display:none;">
                        <label for="sinusoidPeakStep">Every</label><input id="sinusoidPeakStep" type="number" min=1 class="triggerFormUpdate intInput" value=10 /> peaks
                    </div>
                </div>
                <div class=checkbox-row>
                    <label for="drawWaveFronts">Draw Wavefronts:</label><input type="checkbox" id="drawWaveFronts" class="triggerFormUpdate">
                    <div id="wavefrontDetails" class=checkbox-extrainfo style="display:none;">
                        <label for="waveFrontStep">Every</label><input id="waveFrontStep" type="number" min=1 class="triggerFormUpdate intInput" value=10 /> peaks
                    </div>
                </div>

                <button>Zoom to fit</button>

                <h3>Antenna Configuration</h3>
                <label for="customAntennaSelect">Custom Antennas:</label><input type="checkbox" id="customAntennaSelect" class="triggerFormUpdate">
                <textarea id="customAntennaField" style="display:none;" class="triggerFormUpdate"></textarea>
                <div class=checkbox-row>
                    <label for="numberElements">Number of Elements:</label><input id="numberElements" type="Number" min=0 value=5 class="triggerFormUpdate intInput"/>
                </div>
                <div class=checkbox-row>
                <label for="elementsHorizontalDistance">Elements Horizontal Distance:</label><input id="elementsHorizontalDistance" value=0.05 class="floatInput" />
                </div>

                <h3>Signal Configuration</h3>
                <div class=checkbox-row>
                    <label for="waveSpeed">Wave Speed:</label><input id="waveSpeed" value=3e8 class="triggerFormUpdate floatInput" />
                </div>
                <div class=checkbox-row>
                    <label for="carrierFreq">Carrier Frequency:</label><input id="carrierFreq" value=3e9 class="triggerFormUpdate floatInput" />
                </div>
                <label for="customFeedsSelect">Custom Feeds:</label><input type="checkbox" id="customFeedsSelect" class="triggerFormUpdate">
                <textarea id="customFeedsField" style="display:none;" class="triggerFormUpdate"></textarea>
                <div class=checkbox-row>
                    <label for="wavefrontAngle">Wavefront Angle:</label><input id="wavefrontAngle" class="triggerFormUpdate floatInput"/>
                </div>
                <div class=checkbox-row>
                    <label for="phaseVariationByElement">Phase Variation By Element:</label><input id="phaseVariationByElement" class="floatInput" />
                </div>
                <h3>Performance Options:</h3>
                <div class=checkbox-row>
                    <label for="resolution">Resolution:</label><input id="resolution" type="Number" min=1 value=3 class="triggerFormUpdate intInput" />
                </div>
                <div class=checkbox-row>
                    <label for="nthreads">Number of Threads:</label><input id="nthreads" type="Number" min=1 value=4 class="triggerFormUpdate intInput" />
                </div>

            </div>
            <div id="toggleDiv"><a href="#" id="toggleConfigurationWindow"><img src="gear.svg" width=64/></a></div>
        </div>
        <div id="sceneHolder">
            <canvas id="fieldsCanvas" width=1920 height=1080></canvas>
            <canvas id="staticElementsCanvas" width=1920 height=1080></canvas>
            <canvas id="diagramCanvas" width=1920 height=1080></canvas>
        </div>
    </body>
</html>
